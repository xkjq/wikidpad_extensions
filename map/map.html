<html>
<head>
<style type="text/css">
  #container {
    max-width: 100%;
    height: 100%;
    margin: 0;
  }
</style>
</head>
<body>
<div id="container"></div>
<script src="sigma.min.js"></script>
<script src="sigma.parsers.json.min.js"></script>
<script src="plugins/sigma.layout.forceAtlas2.min.js"></script>
<script src="plugins/sigma.plugins.dragNodes.min.js"></script>
<script src="data.js"></script>
<script>


  s = new sigma({
    graph: g,
    container: 'container',
    settings: {
        defaultNodeColor: 'red',
        defaultEdgeType: 'curvedArrow',
        defaultEdgeArrow: 'target',
        minArrowSize: 8,
        animationsTime: 1000,
        doubleClickEnabled: false,

    }
  });



  

s.startForceAtlas2({worker: false, barnesHutOptimize: false});

// ForceAtlas2 is continuous, we only want to run in for long enough
// to get a reasonable layout
setTimeout(function(){s.stopForceAtlas2()}, 500);

s.bind('doubleClickNode', function(e) {
  console.log(e.data.node.label, e.data.captor);
  
    window.location.href = "http://internaljump/" + e.data.node.label;
    setTimeout(function(){document.location.reload(true);}, 100);
});

//var dragListener = sigma.plugins.dragNodes(s, s.renderers[0]);
//dragListener.bind('startdrag', function(event) {
//  //console.log(event);
//});
//dragListener.bind('drag', function(event) {
//  //console.log(event);
//});
//dragListener.bind('drop', function(event) {
//  //console.log(event);
//});
//dragListener.bind('dragend', function(event) {
//  //console.log(event);
//});
</script>
</body>
</html>
